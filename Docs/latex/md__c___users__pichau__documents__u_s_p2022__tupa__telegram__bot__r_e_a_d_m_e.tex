\doxysection*{Tupão}

\doxysubsection*{Tupã Telegram-\/\+Spreadsheet Bot}

\doxyparagraph*{A bot to interface google apps via telegram}



\href{https://tupa.eesc.usp.br//}{\texttt{  }} \href{https://eesc.usp.br/}{\texttt{  }} 



\href{https://github.com/EESC-USP-TUPA/Telegram-Bot/issues}{\texttt{  }} \href{https://github.com/EESC-USP-TUPA/Telegram-Bot/commits/main}{\texttt{  }} \href{https://github.com/EESC-USP-TUPA/Telegram-Bot/graphs/contributors}{\texttt{  }} ~\newline
 \href{https://github.com/EESC-USP-TUPA/Telegram-Bot/commits/main}{\texttt{  }} \href{https://github.com/EESC-USP-TUPA/Telegram-Bot/issues}{\texttt{  }} \href{https://github.com/EESC-USP-TUPA/Telegram-Bot/pulls}{\texttt{  }} 

{\ttfamily Tupão} é um {\ttfamily Telegram bot} criado com o objetivo de fornecer assistência aos membros da extracurricular em um cenário presencial, onde se faz necessário realizar atualizações em planilhas e serviços do {\ttfamily Google}, mesmo sem possuir acesso direto a um computador.

O objetivo principal do {\ttfamily Tupão} é fornecer assistência durante o período de manufatura da equipe {\ttfamily EESC USP Tupã}. Para tal, o bot possui as seguintes funcionalidades básicas\+:


\begin{DoxyItemize}
\item {\ttfamily help}\+: Comando de ajuda, que fornece informação acerca de todos os comandos cadastrados
\item {\ttfamily add}\+: Permite que sejam cadastradas novas tarefas na planilha de mapeamento da equipe
\item {\ttfamily start/end}\+: Permite que seja atualizado o status de atividades cadastradas na planilha de mapemanto da equipe
\item {\ttfamily list}\+: Lista todas as atividades cadastradas na planilha de mapeamentos da equipe
\item {\ttfamily Extras}\+: Comandos de resposta simples registrados em uma planilha de comandos no {\ttfamily Google Sheets} 
\end{DoxyItemize}\hypertarget{md__c___users__pichau__documents__u_s_p2022__tupa__telegram__bot__r_e_a_d_m_e_autotoc_md2}{}\doxysubsection{Configuração}\label{md__c___users__pichau__documents__u_s_p2022__tupa__telegram__bot__r_e_a_d_m_e_autotoc_md2}
A configuração do {\ttfamily bot} é realizada através de um arquivo de variáveis de ambiente {\ttfamily .env}.

A formatação deste arquivo deve ser como apresentado abaixo\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{TELEGRAM\_BOT\_TOKEN =}
\DoxyCodeLine{COMMANDS\_SHEET\_ID =}
\DoxyCodeLine{ELE\_SHEET\_ID =}
\DoxyCodeLine{MEC\_SHEET\_ID =}
\DoxyCodeLine{...}

\end{DoxyCode}



\begin{DoxyItemize}
\item {\ttfamily TELEGRAM\+\_\+\+BOT\+\_\+\+TOKEN} é o referente ao {\ttfamily token} para o bot, obtido através do {\ttfamily Bot\+Father}.
\item {\ttfamily COMMANDS\+\_\+\+SHEET\+\_\+\+ID} é o ID da planilha de comandos do bot
\item {\ttfamily ELE\+\_\+\+SHEET\+\_\+\+ID} é o ID da planilha de mapeamento de tarefas do sistema da elétrica, e assim por diante para os demais sistemas.
\end{DoxyItemize}

Além disso, para que o bot possua permissão para manipular os arquivos do {\ttfamily Google}, é necessário criar um usuáio no {\ttfamily Drive\+API} e baixar as configuraçãoes de {\ttfamily client\+\_\+secret}, fornecidas em formato json.

As informações devem seguir o seguinte formato\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{  "{}type"{}: }
\DoxyCodeLine{  "{}project\_id"{}: }
\DoxyCodeLine{  "{}private\_key\_id"{}: }
\DoxyCodeLine{  "{}private\_key"{}:}
\DoxyCodeLine{  "{}client\_email"{}: }
\DoxyCodeLine{  "{}client\_id"{}: }
\DoxyCodeLine{  "{}auth\_uri"{}: }
\DoxyCodeLine{  "{}token\_uri"{}: }
\DoxyCodeLine{  "{}auth\_provider\_x509\_cert\_url"{}: }
\DoxyCodeLine{  "{}client\_x509\_cert\_url"{}: }
\DoxyCodeLine{\}}

\end{DoxyCode}


Para membros da equipe, a configuração utilizada atualmente pode ser encontrada \href{https://drive.google.com/drive/folders/1xBYfFu1UMstL7kg57yETpns6aYJsKRio?ths=true}{\texttt{ neste link}}.\hypertarget{md__c___users__pichau__documents__u_s_p2022__tupa__telegram__bot__r_e_a_d_m_e_autotoc_md3}{}\doxysubsection{Dependências}\label{md__c___users__pichau__documents__u_s_p2022__tupa__telegram__bot__r_e_a_d_m_e_autotoc_md3}
O {\ttfamily bot} foi construído utilizando {\ttfamily Python 3.\+9.\+7} e conta com as dependências listadas no arquivo {\ttfamily dependencies.\+txt}. Para instalá-\/las, basta executar o comando {\ttfamily \$ pip install requirements.\+txt}.\hypertarget{md__c___users__pichau__documents__u_s_p2022__tupa__telegram__bot__r_e_a_d_m_e_autotoc_md4}{}\doxysubsection{Execução}\label{md__c___users__pichau__documents__u_s_p2022__tupa__telegram__bot__r_e_a_d_m_e_autotoc_md4}
Após configuradas as variáveis de ambiente, o bot pode ser executado através do arquivo {\ttfamily main}. Basta utilizar o comando {\ttfamily \$ python3 \mbox{\hyperlink{main_8py}{main.\+py}}}.\hypertarget{md__c___users__pichau__documents__u_s_p2022__tupa__telegram__bot__r_e_a_d_m_e_autotoc_md5}{}\doxysubsection{Hosting}\label{md__c___users__pichau__documents__u_s_p2022__tupa__telegram__bot__r_e_a_d_m_e_autotoc_md5}
O bot é hospedado nos serviços do {\ttfamily Heroku} de modo a ficar online 24h. 